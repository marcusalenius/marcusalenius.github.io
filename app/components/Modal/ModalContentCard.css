.modal-content-card-container {
    position: relative;
}

.modal-content-card {
    position: absolute !important;
    height: auto;
    background-color: var(--lightCard);
    border-radius: 30px;
    cursor: auto;
    box-shadow: 0px 0px 4px rgba(0, 0, 0, 0.08), 0px 0px 15px rgba(0, 0, 0, 0.1);
    transition: box-shadow 200ms ease;
}

@media (hover: hover) {
    .modal-content-card:hover {
        box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.08), 0px 0px 30px rgba(0, 0, 0, 0.1);
        transition: box-shadow 200ms ease;
    }

    .dark .modal-content-card:hover {
        box-shadow: none;
        scale: 1;
    }
}

.modal-content-card-content strong {
    font-weight: 400;
    color: var(--lightBodyText);
}

.dark .modal-content-card-content strong {
    color: var(--darkBodyText);
}

.modal-content-card-content p.read-more-container {
    color: #aeaeae;
}

.dark .modal-content-card-content p.read-more-container {
    color: #8a8a8a;
}

.modal-content-card-content p.read-more-container .read-more {
    transition: color 0.3s;
}

.modal-content-card:has(.read-more:not(.closed)) .modal-content-card-content p.read-more-container {
    color: var(--lightBodyText);
}

.dark .modal-content-card:has(.read-more:not(.closed)) .modal-content-card-content p.read-more-container {
    color: var(--darkBodyText);
}

.modal-content-card:has(.read-more:not(.closed)) {
    z-index: 1200;
}




/* When any card is expanded, fade ALL other cards in the modal (all layouts) */
.modal-content:has(.read-more:not(.closed)) .modal-content-card {
    box-shadow: 0px 0px 4px rgba(204, 204, 204, 0.15),
                0px 0px 15px rgba(204, 204, 204, 0.20);
    pointer-events: none;
    transition: box-shadow 0.3s, opacity 0.3s;
}

/* Keep the expanded card “normal” and interactive */
.modal-content .modal-content-card:has(.read-more:not(.closed)) {
    box-shadow: 0px 0px 4px rgba(0, 0, 0, 0.08),
                0px 0px 15px rgba(0, 0, 0, 0.1);
    pointer-events: auto;
    z-index: 1200;
}

/* Fade all other cards’ contents */
.modal-content:has(.read-more:not(.closed)) .modal-content-card-content {
    opacity: 0.3;
    }

/* Keep expanded card’s content fully opaque */
.modal-content .modal-content-card:has(.read-more:not(.closed)) .modal-content-card-content {
    opacity: 1;
}

/* Dark mode: fade all OTHER cards' backgrounds (not the expanded one) */
.dark .modal-content:has(.read-more:not(.closed))
  .modal-content-card:not(:has(.read-more:not(.closed))) {
  box-shadow: none;
  background-color: #2a2c2f;
}
/* Dark mode: remove rim highlight only from NON-expanded cards */
.dark .modal-content:has(.read-more:not(.closed))
  .modal-content-card:not(:has(.read-more:not(.closed))) .card-border {
  background: none !important;
}

/* Dark mode: darken FOREGROUND of NON-selected cards in the modal */
.dark .modal-content:has(.read-more:not(.closed))
  .modal-content-card.card:not(:has(.read-more:not(.closed)))::before {
  background-color: #18191b; 
}

/* Ensure the selected card keeps its normal foreground color */
.dark .modal-content .modal-content-card.card:has(.read-more:not(.closed))::before {
  background-color: var(--darkCard); /* or simply omit to use the default from Card.css */
}

/* When a card is expanded, fade all section headings in the modal */
.modal-content:has(.read-more:not(.closed)) h2 {
    opacity: 0.3;
    transition: opacity 0.3s;
}
  
/* Dark mode: make headings a bit more faded if you like */
.dark .modal-content:has(.read-more:not(.closed)) h2 {
    opacity: 0.2;
}

.dark .modal-content-card {
    transition: background-color 0.3s;
}

.modal-content-card-content {
    opacity: 1;
    transition: opacity 0.3s;
    padding: 26px;
    z-index: 15;
    position: relative;
}

.modal-content-card h4 {
    white-space: nowrap;
}

.modal-content-card-content h4 .short-title {
    display: none;
}

.modal-content-card p {
    margin-left: 0;
    margin-top: 0;
}

.modal-content-card p.paragraph-small {
    margin-top: 6px;
    margin-bottom: 8px;
    line-height: 24px;
}


/* iPad 13" Portrait */
@media (max-width: 1008px) {

    .modal-content-card-content h4 .short-title {
        display: block;
    }

    .modal-content-card-content h4 .title {
        display: none;
    }
    
}

/* iPad Mini Portrait */
@media (max-width: 747px) {

    .modal-content-card-content {
        padding: 24px;
    }

}

/* iPhone Plus */
@media (max-width: 666px) {

    .modal-content-card-content h4 .short-title {
        display: none;
    }

    .modal-content-card-content h4 .title {
        display: block;
    }

}

/* iPhone Plus */
@media (max-width: 424px) {

    .modal-content-card-content h4 .short-title {
        display: block;
    }

    .modal-content-card-content h4 .title {
        display: none;
    }

}

